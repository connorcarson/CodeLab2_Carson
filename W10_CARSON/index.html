<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.15.1/dist/phaser-arcade-physics.min.js"></script>
</head>
<body>

    <script>
        var game = new Phaser.Game({
            type: Phaser.AUTO,
            width: 800,
            height: 600,
            backgroundColor: '#272829',
            scene: {
                preload: preload,
                create: create,
                update: update
            }
        });

        function preload ()
        {
           this.load.spritesheet('sm', 'assets/sprites/sm-special-move.png', { frameWidth: 75, frameHeight: 125 });
        }

        var sm;
        var anim;
        var frameView;

        function create ()
        {
            frameView = this.add.graphics({ fillStyle: { color: 0xff00ff }, x: 32, y: 32 });
            frameView = this.add.graphics({ fillStyle: { color: 0xff00ff }, x: 32, y: 32 });

            sm = this.add.sprite(400, 300, 'sm').setScale(2, 2);

            //is this a prototype?
            var config = {
                key: 'special-move',
                frames: this.anims.generateFrameNumbers('sm', {start: 0, end: 35, first: 0}),
                frameRate: 8,
                yoyo: false,
                repeat: -1
            };

            anim = this.anims.create(config);

            this.input.keyboard.on('keydown_SPACE', function (event) {
                sm.anims.play('special-move');
            });

            let buffer = [];
            let lastKeyTime = Date.now();

            document.addEventListener('keydown', event => {
                const charList = 'abcdefghijklmnopqrstuvwxyz0123456789';
                const key = event.key.toLowerCase();

                // we are only interested in alphanumeric keys
                if (charList.indexOf(key) === -1) return;

                const currentTime = Date.now();

                if(currentTime - lastKeyTime > 1000){
                    buffer = [];
                }

                lastKeyTime = currentTime;

                buffer.push(key);
                console.log(buffer);
            });
        }


        function update ()
        {

        }
    </script>

</body>
</html>